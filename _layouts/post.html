---
layout: default
---

<article class="post-page">

  <!-- HERO / SLIDER -->
  <section class="hero-gallery">
    {% assign folder = page.image_folder %}
    {% assign images = "" | split: "" %}

    {% for file in site.static_files %}
      {% if file.path contains folder %}
        {% if file.extname == ".jpg" or file.extname == ".jpeg" or file.extname == ".png" or file.extname == ".webp" %}
          {% assign images = images | push: file.path %}
        {% endif %}
      {% endif %}
    {% endfor %}

    {% assign images = images | sort %}

    {% if images.size > 0 %}
    <div class="slider">
      <button class="nav prev">&#10094;</button>

      <div class="slide-container">
        {% for img in images %}
          <img class="slide {% if forloop.first %}active{% endif %}"
               src="{{ img | relative_url }}"
               loading="lazy"
               decoding="async"
               alt="{{ page.title }}">
        {% endfor %}
      </div>

      <button class="nav next">&#10095;</button>
    </div>
    {% endif %}
  </section>

  <!-- POST CONTENT -->
  <section class="post-content">
    <div class="post-inner">
      <h1 class="post-title">{{ page.title }}</h1>
      <p class="post-date">{{ page.date | date: "%B %d, %Y" }}</p>

      <div class="post-body">
        {{ content }}
      </div>
    </div>
  </section>

</article>

<!-- Lightbox -->
<div class="lightbox" id="lightbox">
  <span class="close">&times;</span>
  <img class="lightbox-img" id="lightbox-img">
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {

  const slides = document.querySelectorAll(".slide");
  const next = document.querySelector(".next");
  const prev = document.querySelector(".prev");
  const lightbox = document.getElementById("lightbox");
  const lightboxImg = document.getElementById("lightbox-img");
  const closeBtn = document.querySelector(".close");

  if (slides.length === 0) return;

  let index = 0;

  function showSlide(i) {
    slides.forEach(slide => slide.classList.remove("active"));
    slides[i].classList.add("active");
  }

  next?.addEventListener("click", () => {
    index = (index + 1) % slides.length;
    showSlide(index);
  });

  prev?.addEventListener("click", () => {
    index = (index - 1 + slides.length) % slides.length;
    showSlide(index);
  });

  slides.forEach(slide => {
    slide.addEventListener("click", () => {
      lightbox.classList.add("active");
      lightboxImg.src = slide.src;
    });
  });

  closeBtn?.addEventListener("click", () => {
    lightbox.classList.remove("active");
  });

  lightbox.addEventListener("click", (e) => {
    if (e.target === lightbox) {
      lightbox.classList.remove("active");
    }
  });

});
</script>
